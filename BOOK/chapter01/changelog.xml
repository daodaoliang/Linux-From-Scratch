<sect1 id="ch01-changelog">
<title>Changelog</title>

<para>&version; - &releasedate;</para>

<itemizedlist>

<listitem><para>September 22nd, 2001 [markh]: Appendix A: Re-ordered the
descriptions into alphabetical order.</para></listitem>

</itemizedlist>

<para>3.0 - September 21st, 2001</para>

<itemizedlist>

<listitem><para>Updated to:

<itemizedlist>

<listitem><para>e2fsprogs-1.24</para></listitem>

</itemizedlist>

</para></listitem>

<listitem><para>September 21st, 2001 [markh]: Chapter 1+7: Changed the
mailing list information to reflect the new ml
structure.  The Ch7 change is that the rc and rcS scripts now ask people
to report problems to lfs-dev instead of lfs-discuss.</para></listitem>

<listitem><para>September 18th, 2001 [gerard]: Chapter 5+6 - GCC:
Added --enable-threads=posix to chapter 5, and changed --enable-threads to
--enable-threads=posix in chapter 6. Although the default is posix threads when
not specified, it's clearer this way what's being enabled.</para></listitem>

<listitem><para>September 17th, 2001 [gerard]: Chapter 6 - Psmisc:
Added notes how to deal with psmisc's pidof symlink (in case sysvinit
isn't installed) and man page. Also, added --exec-prefix=/ to psmisc's
configure script in order for the programs to be installed in /bin
rather than /usr/bin (bootscripts may use them, so they must be in
/bin).</para></listitem>

<listitem><para>September 16th, 2001 [markh]: Chapter 6 - Util-linux:
Added USRGAMES_DIR=/usr/bin to the make install routine so that
/usr/games isn't created for banner and it is installed in
/usr/bin.</para></listitem>

<listitem><para>September 14th, 2001 [markh]: Chapter 6 - E2fsprogs:
Updated to version 1.24.</para></listitem>

<listitem><para>September 11th, 2001 [gerard]: Chapter 6 - Man: Added
missing &amp;&amp; to 'done' and chmod the configure script to mode 755
instead of 700 (more of a default mode so people don't _have_ to be
running as the owner of that file).</para></listitem>

</itemizedlist>

<para>3.0-rc2 - September 8th, 2001</para>

<itemizedlist>
 
<listitem><para>Updated to:
 
<itemizedlist>
 
<listitem><para>sysvinit-2.82</para></listitem>

</itemizedlist>

</para></listitem>

<listitem><para>September 7th, 2001 [gerard]: Chapter 6 - Sysvinit:
Seperated the commands to change the status msg in init.c from the main
commands.</para></listitem>

<listitem><para>September 7th, 2001 [gerard]: Chapter 6 - Bash: Added
--login to the exec /bin/bash command.</para></listitem>

<listitem><para>September 7th, 2001 [gerard]: Chapter 5 - GCC: Removed
duplicate explanation (the patch and --enable-languages ones) that are
already in chapter 5 - gcc.</para></listitem>

<listitem><para>September 7th, 2001 [markh]: Chapter 6 - Sysvinit:
updated to 2.82.</para></listitem>

<listitem><para>September 7th, 2001 [gerard]: Chapter 2: Added "How to
ask for help" section.</para></listitem>

<listitem><para>September 7th, 2001 [gerard]: Chapter 6 - Makedev:
changed chmod to 754. Makes more sense, non-root can't run it
anways.</para></listitem>

<listitem><para>September 6th, 2001 [markh]: Chapter 5 - Diffutils, Grep
and Sed: Moved the export CPPFLAGS fixes out of the main install
instructions and explained when they are necessary.</para></listitem>

<listitem><para>September 5th, 2001 [markh]: Chapter 5 - Gzip and
Sh-utils: Moved the patches out of the main install instructions to a
seperate section as we already do with the tar patch.  Also removed
gzip-exp.xml and shellutils-exp.xml as the explanations are now part of
the installation text.</para></listitem>

<listitem><para>September 5th, 2001 [gerard]: Chapter 5 - Bash: Added
notes that the ncurses-dev package must be installed and the libcurses.a
symlink created if missing. Added --with-curses back to Bash's
installation, this now functions as a good  test to make sure ncurses is
installed (if not, texinfo will fail).</para></listitem>

<listitem><para>September 5th, 2001 [gerard]: Chapter 6 - Net-tools:
Instead of running make install, we now run make update. It does the
same, except make update doesn't make backup of programs it's
replacing.</para></listitem>

<listitem><para>September 5th, 2001 [markh]: Chapter 6 - Procinfo:
Removed sed and replaced with a flag to make.</para></listitem>

<listitem><para>September 5th, 2001 [markh]: Chapter 6 - E2fsprogs:
Added explanation as to why we use --with-root-prefix=/</para></listitem>

<listitem><para>September 5th, 2001 [gerard]: Chapter 6 - E2fsprogs: We
can supply a value to --with-root-prefix now. It's not necessary,  but
it makes things a lot clearer.</para></listitem>

<listitem><para>September 5th, 2001 [markh]: Chapter 6 - E2fsprogs:
Removed command to move mklost+found to /sbin.</para></listitem>

<listitem><para>September 5th, 2001 [gerard]: Chapters 5 &amp; 6: Added
notes to the gcc, binutils and glibc installations that these packages
behave badly when the default optimization flags are changed and should
be left alone.</para></listitem>

<listitem><para>September 4th, 2001 [gerard]: Chapter 6-Bzip2: Added ln
command to create /lib/libbz2.so</para></listitem>

<listitem><para>September 2nd, 2001 [gerard]: Appendix A - Psmisc: This
package provides a pidof as well, added explanation of
it.</para></listitem>

<listitem><para>September 2nd, 2001 [gerard]: Chapter 6 - Ed, Vim,
Shadow: Added missing &amp;&amp; after the sed and echo 
commands.</para></listitem>

<listitem><para>September 1st, 2001 [gerard]: Changed links to other
areas in the book to xml xref tags so you can click on them when reading
non-html formats (like pdf).</para></listitem>

<listitem><para>September 1st, 2001 [gerard]: Chapter 1 - Contact
information: Changed the text to use one of the mailing lists, not just
lfs-discuss (and provide a link to maillist.xml for the mailing lists
list).</para></listitem>

<listitem><para>August 31st, 2001 [gerard]: Chapter7 - mountfs,
functions: Added the -f option to the rm command that removes fastboot 
and forcecheck. This option should never have been removed in the first
place.</para></listitem>

</itemizedlist>

<para>3.0-RC1 - August 31st, 2001</para>

<itemizedlist>

<listitem><para>Updated to:

<itemizedlist>

<listitem><para>MAKEDEV-1.3</para></listitem> 
<listitem><para>autoconf-2.52</para></listitem>
<listitem><para>automake-1.5</para></listitem>
<listitem><para>binutils-2.11.2</para></listitem>
<listitem><para>e2fsprogs-1.23</para></listitem>
<listitem><para>file-3.36</para></listitem>
<listitem><para>gcc-2.95.3</para></listitem>
<listitem><para>gettext-0.10.39</para></listitem>
<listitem><para>glibc-2.2.4</para></listitem>
<listitem><para>groff-1.17.2</para></listitem>
<listitem><para>linux-2.4.8</para></listitem>
<listitem><para>man-pages-1.39</para></listitem>
<listitem><para>modutils-2.4.7</para></listitem>
<listitem><para>sysvinit-2.81</para></listitem>
<listitem><para>util-linux-2.11h</para></listitem>

</itemizedlist>

</para></listitem>

<listitem><para>August 29th, 2001 [gerard]: Chapter6 - Kbd: Removed the
removal of the defkeymap file. Instead just make install it, added a
note that loadkeys -d doesn't work properly and leave it with
that..</para></listitem>

<listitem><para>August 29th, 2001 [gerard]: Chapter 6 - Binutils:
removed the -e options to 'make' which aren't necessary anymore. They
were removed in chapter 5 already, but forgotten to commit changes to
chapter 6.</para></listitem>

<listitem><para>August 29th, 2001 [gerard]: Chapter 6 - Bin86: Added a
note that this package may not be needed if lilo isn't
used.</para></listitem>

<listitem><para>August 29th, 2001 [gerard]: Chapter 6 - Ed: Added a note
that nothing in LFS depends on Ed (except for patch, but ed formatted
patch files are very rare these days), so you can safely skip
it.</para></listitem>

<listitem><para>August 29th, 2001 [gerard]: Various updates to the text
through the entire book (mostly grammatical fixes and
such).</para></listitem>

<listitem><para>August 28th, 2001 [gerard]: Chapter 6-Texinfo: Added
the explanation of the make TEXMF=/usr/share/texmf install-tex
command.</para></listitem>

<listitem><para>August 28th, 2001 [gerard]: Chapter 6-M4: Removed the note
about linking m4 statically outside of chroot. LFS doesn't use
Glibc-2.1.x anymore, so this claim may not be true. It'll have to be
tested again.</para></listitem>

<listitem><para>August 28th, 2001 [gerard]: Chapter 5+6+*: Removed the
-f flags from cp commands. cp's behaviour has changed with
fileutils-4.1, doing something totally different than
expected.</para></listitem>

<listitem><para>August 28th,  2001 [gerard]: Chapter 5+6: Removed some
unnecessary line breaks (so a command continues on a next
line).</para></listitem>

<listitem><para>August 27th, 2001 [gerard]: Chapter 5: The former two sed
operations are combined into one sed operation now.</para></listitem>

<listitem><para>August 27th, 2001 [gerard]: Preface: Inserted the
currrent LFS website's introduction into "Who wants to read this
book".</para></listitem>

<listitem><para>August 27th, 2001 [gerard]: Chapter 1: Synchronized the
changelog, http and ftp mirrors with the LFS website.</para></listitem>

<listitem><para>August 27th, 2001 [gerard]: Chapter 6-Glibc and Bash: 
simplified the installation instructions. We no longer exit chroot to 
finish the installation. This _may_ not work properly if your host 
distribution is an old 2.0.x based kernel, but we have no way of testing 
this at the moment. We'll deal with that when bug reports come 
in.</para></listitem>

<listitem><para>August 27th, 2001 [gerard]: Moved rebooting into LFS from
chapter 8 to chapter 9, after we run that find
command.</para></listitem>

<listitem><para>August 27th, 2001 [gerard]: Updated the find command in
chapter 9.</para></listitem>

<listitem><para>August 27th, 2001 [markh]: upgraded to e2fsprogs-1.23 and
MAKEDEV-1.3.</para></listitem>

<listitem><para>August 27th, 2001 [gerard]: Added dependency lists for
all installed packages. You now can see which programs from which
packages you need in order to compile and install a
package.</para></listitem>

<listitem><para>August 27th, 2001 [markh]: After a discussion on #lfs,
we've downgraded the book to linux-2.4.8 due to performance problems
with 2.4.9.</para></listitem>

<listitem><para>August 26th, 2001 [markh]: Moved appendix c --&gt; appendix d and
appendix b --&gt; appendix c in order to create room for the dependency
information to go into appendix b.</para></listitem>

<listitem><para>After much testing and discussing, it's been decided to
downgrade to gcc-2.95.3 for the time being, until problems with the new
gcc-3.0 version have been fixed.</para></listitem>

<listitem><para>Chapter 5: sed commands for bzip2 and mawk static
compiles have been replaced with a simpler flag to gcc.</para></listitem>

<listitem><para>Chapter 5: A sed for fileutils-4.1 static has been added to 
avoid Segmentation Fault problems on glibc-2.2.3 systems.</para></listitem>

<listitem><para>Chapter 5: Binutils doens't require us passing -e to
make in order for LDFLAGS=-static to work properly.</para></listitem>

<listitem><para>Chapter 5: GCC isn't statically linked anymore by using
make -e LDFLAGS=-static, but by make BOOT_LDFLAGS=-static.</para></listitem>

<listitem><para>Chapter 5: Removed kernel patch for gcc-3.0 
compilation</para></listitem>

<listitem><para>Chapter 5: Added gcc-patch to fix re_max_failure 
compile problems</para></listitem>

<listitem><para>Chapter 5: Added missing chown root.root 
$LFS/usr/include/linux to kernel installation </para></listitem>

<listitem><para>Chapter 5 &amp; 6: Changed tar patch to use -j for bzip2 
files instead of -y in order to be compatible with next tar release.  Also 
renamed patch file to tar-1.13.patch</para></listitem>

<listitem><para>Chapters 5 &amp; 6: Added a new patch for gcc-2.95.3
which fixes various problems such as the weak symbol 
bug.</para></listitem>

<listitem><para>Chapter 6: Bzip2 and shadowutils static libraries 
are now put in /usr/lib instead of /lib.  There are now also links
from /usr/lib to their dynamic libraries in /lib to enable the linker to
still find the dynamic versions.</para></listitem>

<listitem><para>Chapter 6: ncurses patch totally
removed.  Static libraries now moved to /usr/lib and libcurses.a symlink
created manually.  A symlink is also created from /usr/lib to the
dynamic libraries in /lib so that the linker still sees them.</para></listitem>

<listitem><para>Chapter 6: Yacc script in bison page now uses exec bison
which replaces the shell.</para></listitem>

<listitem><para>Chapter 6: Util-linux sed command has been replaced with a 
flag to make.</para></listitem>

<listitem><para>Chapter 6: Man patch replaced with 
sed command.</para></listitem>

<listitem><para>Chapter 6: Removed shadow-utils patch in favour of a sed
command</para></listitem>

<listitem><para>Chapter 6: Removed sysvinit patch in favour of a sed
command.</para></listitem>

<listitem><para>Chapter 6: Removed the Groff command explanation 
regarding CXXFLAGS which has been made obsolete with the update 
to groff-1.17.1</para></listitem>

<listitem><para>Chapter 6: Moved the net-tools installation until after
sh-utils so that net-tools can replace sh-utils's
/bin/hostname.</para></listitem>

<listitem><para>Chapter 6: After installing Glibc, run exec /bin/bash
--login instead of exiting and re-entering the chroot'ed
environment.</para></listitem>

<listitem><para>Chapter 7: Changed $* into "$@" in the functions and rc
scripts. "$@" allows usage of quoted arguments with blanks.</para></listitem>

<listitem><para>Chapter 7: Added print_error_msg from the rcS script as
it appears in the rc script as well.</para></listitem>

</itemizedlist>

<para>3.0-pre4 - June 22nd, 2001</para>

<itemizedlist>

<listitem><para>Chapter 5: Reordered the installations 
alphabetically.</para></listitem>

<listitem><para>Chapter 6: Moved the installations of ed and 
patch into their alphabetical positions.</para></listitem>

<listitem><para>Chapter 7: Added [ ATTN ] warning message to 
the functions script. When you attemp to start a service that's 
already running or stop a service that's not running, it'll not
print FAILED anymore but [ ATTN ] along with "Already running" 
or "Not running".</para></listitem>

<listitem><para>Chapter 9: Renamed the network-scripts 
directory in nic-config.</para></listitem>

</itemizedlist>

<para>3.0-pre3 - May 12th, 2001</para>

<itemizedlist>

<listitem><para>Added numerous FHS compliance notes. These 
instructions can be followed if one wishes to build a fully 
FHS-compliant system.</para></listitem>

<listitem><para>Chapter 4: Updated the directory list to be more 
FHS compliant. Mainly this meant adding the opt directories and 
removing /usr/tmp and /usr/local/tmp</para></listitem>

<listitem><para>Chapter 5: We now copy the kernel include directories 
instead of linking to them. This is theoretically safer if we plan on 
upgrading the kernel.</para></listitem>

<listitem><para>Chapter 5+6: Removed fileutils-patch. After upgrading 
to fileutils-4.1 the patch isn't needed anymore.</para></listitem>

<listitem><para>Chapter 5+6: Put back the instructions on how to 
copy/remove the old NSS library files, in case the original distribution 
uses glibc-2.0.x.</para></listitem>

<listitem><para>Chapter 5: Added the notice about an old version 
of install-info.</para></listitem>
 
<listitem><para>Chapter 5: Removed the installation of a static 
gettext.</para></listitem>

<listitem><para>Chapter 6: Changed bin86's installation from 
"make PREFIX=/usr install" to "make INSTALL_OPTS="-m 755" 
PREFIX=/usr install". This will prevent install from invoking strip -s 
on the files. This fails because a couple of the installed files are 
shell scripts rather than programs, so they can't be stripped.</para></listitem>

<listitem><para>Chapter 6: Removed the ld.so section since we 
only used the man pages and replaced it with a patch to man-pages.</para></listitem>

<listitem><para>Chapter 7+8: Moved the creation of /etc/fstab 
to chapter 8.</para></listitem>

<listitem><para>Appendix A: Added missing descriptions of frcode, 
code and bigram in the findutils-4.1 package.</para></listitem>

</itemizedlist>

<para>3.0-pre2 - April 14th, 2001</para>

<itemizedlist>

<listitem><para>Chapter 5: Simplified ln commands.</para></listitem>
 
<listitem><para>Chapter 5: Removed prefix=$LFS/usr from tar's 
make install.</para></listitem>

<listitem><para>Chapter 5+6: Removed --disable-nls from configuration 
of programs that don't need it (bash, diffutils, gzip, sed, 
m4).</para></listitem>

<listitem><para>Chapter 5+6: Changed from "cd dir &amp;&amp; make" 
to "make -C dir" (gettext-static, sysvinit).</para></listitem>

<listitem><para>Chapter 5: Beautified the static link process 
for mawk.</para></listitem>

<listitem><para>Chapter 5: Changed the links we create during 
gcc-installation to $LFS/usr/bin/cpp.</para></listitem>

<listitem><para>Chapter 6: Changed the procps installation 
from sed'ing to an easier way.</para></listitem>

<listitem><para> Chapter 6: Changed all "rm file &amp;&amp; ln -s dest 
file" into "ln -sf file" (in glibc, bzip2 and gzip 
installations).</para></listitem>

<listitem><para>Chapter 6: Added a sed to fix a problem during 
glibc-installation.  pt_chown can not be installed setuid root, 
because "root" is not known by glibc yet (kind of hen and 
egg-problem).</para></listitem>
 
<listitem><para>Chapter 6: Changed consoledata/tools to kbd, which 
is more actively developed, and less of a pain to install.</para></listitem>

<listitem><para>Appendix A: Added the description of the Netkit-base 
and Net-tools packages.</para></listitem>

</itemizedlist>

<para>3.0-pre1 - February 27th, 2001</para>

<itemizedlist>

<listitem><para>Converted the SGML source to XML.</para></listitem>
 
<listitem><para>Chapter 4: Tell the user to use cfdisk rather than 
fdisk. The fdisk man page recommends cfdisk over fdisk because 
it's more stable.</para></listitem>
 
<listitem><para>Chapter 4: Changed the wording to make it more general 
as ext2 no longer is the only used file system. Reiser for example is 
often used too now.</para></listitem>
 
<listitem><para>Chapter 5: Added static mawk, texinfo and partially 
gettext to faciliate the move of Glibc from Chapter 5 
to Chapter 6.</para></listitem>
 
<listitem><para>Chapter 5: Added Makedev to chapter 5. We don't create 
the device files here, only copy the MAKEDEV script and make a temp 
copy which will be used to create device files. This second file 
(MAKEDEV-temp) doesn't contain user names and group names but only user 
id's and group id's. We need a few device files to get Glibc installed, 
but before GLibc is installed user and group names are not recognized yet; 
only the numeric id's. This requires a slightly modified MAKEDEV script 
which will be generated by patching the original one. This patching is done 
here in chapter 5. Also, fixed the explanations on both 
makedev installations.</para></listitem>
 
<listitem><para>Chapter 5: Recommended to install all the software 
while logged in (or su'ed to) user root.</para></listitem>
 
<listitem><para>Chapter 5+6: Added the fileutils-4.0 patch which is 
needed to compile the fileutils package on Glibc-2.2 based systems 
(such as the upcoming LFS-3.0 system).</para></listitem>

<listitem><para>Chapter 5+6: Upgraded from gcc-2.95.2 to 
gcc-2.95.2.1</para></listitem>
 
<listitem><para>Chapter 5+6: Moved Glibc from chapter 5 to 
chapter 6</para></listitem>
 
<listitem><para>Chapter 6: Changed libexecdir=/usr/bin in fileutils 
to libexecdir=/bin</para></listitem>
 
<listitem><para>Chapter 6: Updated Glibc installation instructions. 
'configparms' file creation has been deleted. No need to pick a compiler 
(either distro's native or the /usr/local/gcc2952/bin/gcc one); 
we're in chroot now so we'll use the one we have</para></listitem>
 
<listitem><para>Chapter 6: Only copy the man pages from the 
ld.so package. We don't need the ldconfig and ldd programs anymore; 
Glibc-2.2.1 comes with good working versions.</para></listitem>
 
<listitem><para>Chapter 6: Added the creation of the lex symlink 
to the flex installation.</para></listitem>
 
<listitem><para>Chapter 6: Changed $* into "$@" in the yacc script 
during bison's installation. "$@" allows usage of quoted arguments 
with blanks. </para></listitem>
 
<listitem><para>Chapter 6: Fixed the man page installation during 
console-tools' installation.</para></listitem>

<listitem><para>Chapter 6: When entering chroot the $TERM variable 
inside chroot is set properly. This is accomplished by: chroot ... 
-i HOME=/root TERM=$TERM...</para></listitem>
 
<listitem><para>Chapter 6: Merged the different sulogin lines from 
the inittab file into one line.</para></listitem>
 
<listitem><para>Chapter 7: Fixed the delays in the killproc function 
in the functions script. Now after kill, first check PIDs, then 
sleep 2 if needed. More details can be read in the comments 
in the script itself.</para></listitem>
 
<listitem><para>Chapter 7: Added the explanation how the runlevels 
and boot process works when using the LFS scripts.</para></listitem>
 
<listitem><para>Chapter 10: Added this chapter. It contains "thanks 
and good luck"notes and suggest creating the /etc/lfs-&version; 
file</para></listitem>
 
</itemizedlist>

</sect1>

