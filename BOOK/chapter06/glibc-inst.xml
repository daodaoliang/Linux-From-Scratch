<sect2>
<title>Installation of Glibc</title>

<para>Before starting to install glibc, you must cd into the
glibc-&glibc-version; directory and unpack glibc-linuxthreads inside
the glibc-&glibc-version; directory, not in /usr/src as you normally
would do.</para>

<para>Install Glibc by running the following commands:</para>

<para><screen><userinput>mknod -m 0666 /dev/null c 1 3 &amp;&amp;</userinput>
<userinput>touch /etc/ld.so.conf &amp;&amp;</userinput>
<userinput>cp -f malloc/Makefile \</userinput>
<userinput>&nbsp;&nbsp;&nbsp;malloc/Makefile.backup &amp;&amp;</userinput>
<userinput>sed 's%\$(PERL)%/usr/bin/perl%' \</userinput>
<userinput>&nbsp;&nbsp;&nbsp;malloc/Makefile &gt; tmp~ &amp;&amp;</userinput>
<userinput>mv -f tmp~ malloc/Makefile &amp;&amp;</userinput>
<userinput>cp -f login/Makefile \</userinput>
<userinput>&nbsp;&nbsp;&nbsp;login/Makefile.backup &amp;&amp;</userinput>
<userinput>sed 's/root/0/' login/Makefile &gt; tmp~ &amp;&amp;</userinput>
<userinput>mv -f tmp~ login/Makefile &amp;&amp;</userinput>
<userinput>mkdir ../glibc-build &amp;&amp;</userinput>
<userinput>cd ../glibc-build &amp;&amp;</userinput>
<userinput>../glibc-&glibc-version;/configure \</userinput>
<userinput>&nbsp;&nbsp;&nbsp;--prefix=/usr --enable-add-ons \</userinput>
<userinput>&nbsp;&nbsp;&nbsp;--libexecdir=/usr/bin &amp;&amp;</userinput>
<userinput>cp -f config.make config.make.backup &amp;&amp;</userinput>
<userinput>sed 's/cross-compiling = yes/cross-compiling = no/' \</userinput>
<userinput>&nbsp;&nbsp;&nbsp;config.make &gt; tmp~ &amp;&amp;</userinput>
<userinput>mv -f tmp~ config.make &amp;&amp;</userinput>
<userinput>make &amp;&amp;</userinput>
<userinput>make install &amp;&amp;</userinput>
<userinput>make localedata/install-locales &amp;&amp;</userinput>
<userinput>exec /bin/bash --login</userinput></screen></para>

<para>An alternative to running <userinput>make
localedate/install-locales</userinput> is to only install those locales
which you need or want.  This can be achieved using the localedef
command.  Information on this can be found in the INSTALL
file in the glibc-&glibc-version; tree.</para>

<para>During the configure stage you will see the following warning:</para>

<blockquote><screen>configure: warning:
*** An auxiliary program is missing or too old;
*** some features will be disabled.
*** Check the INSTALL file for required versions.</screen></blockquote>

<para> This warning refers to the missing msgfmt program from the
gettext package, but it can safely be ignored in our case.  The glibc 
installation will not be affected.</para>

</sect2>

