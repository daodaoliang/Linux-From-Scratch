<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN" "http://www.oasis-open.org/docbook/xml/4.3/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../general.ent">
  %general-entities;
]>
<sect1 id="ch-system-kbd" xreflabel="Kbd" role="wrap">
<title>Kbd-&kbd-version;</title>
<?dbhtml filename="kbd.html"?>

<indexterm zone="ch-system-kbd"><primary sortas="a-Kbd">Kbd</primary></indexterm>

<sect2 role="package"><title/>
<para>The Kbd package contains key-table files and keyboard utilities.</para>

<segmentedlist>
<segtitle>&buildtime;</segtitle>
<segtitle>&diskspace;</segtitle>
<seglistitem><seg>0.1 SBU</seg><seg>12 MB</seg></seglistitem>
</segmentedlist>

<segmentedlist>
<segtitle>Kbd installation depends on</segtitle>
<seglistitem><seg>Bash, Binutils, Bison, Coreutils,
Diffutils, Flex, GCC, Gettext, Glibc, Grep, Gzip, M4, Make, Sed</seg></seglistitem>
</segmentedlist>
</sect2>

<sect2 role="installation">
<title>Installation of Kbd</title>

<para>Prepare Kbd for compilation:</para>

<screen><userinput>./configure</userinput></screen>

<para>Compile the package:</para>

<screen><userinput>make</userinput></screen>

<para>Now install it:</para>

<screen><userinput>make install</userinput></screen>

</sect2>

<!-- The "Configuring your keyboard" section has been moved to
Chapter 7 and renamed to "Configuring Linux console" -->

<sect2 id="contents-kbd"><title>Contents of Kbd</title>

<para><emphasis>Installed programs</emphasis>: chvt, deallocvt, dumpkeys,
fgconsole, getkeycodes, getunimap, kbd_mode, kbdrate, loadkeys, loadunimap,
mapscrn, openvt, psfaddtable (link to psfxtable), psfgettable (link to
psfxtable), psfstriptable (link to psfxtable), psfxtable, resizecons,
setfont, setkeycodes, setleds, setlogcons, setmetamode, setvesablank,
showconsolefont, showkey, unicode_start and unicode_stop</para>

</sect2>


<sect2><title>Short descriptions</title>

<indexterm zone="ch-system-kbd chvt"><primary sortas="b-chvt">chvt</primary></indexterm>
<para id="chvt"><command>chvt</command> changes the foreground virtual terminal.</para>

<indexterm zone="ch-system-kbd deallocvt"><primary sortas="b-deallocvt">deallocvt</primary></indexterm>
<para id="deallocvt"><command>deallocvt</command> deallocates unused virtual terminals.</para>

<indexterm zone="ch-system-kbd dumpkeys"><primary sortas="b-dumpkeys">dumpkeys</primary></indexterm>
<para id="dumpkeys"><command>dumpkeys</command> dumps the keyboard translation tables.</para>

<indexterm zone="ch-system-kbd fgconsole"><primary sortas="b-fgconsole">fgconsole</primary></indexterm>
<para id="fgconsole"><command>fgconsole</command> prints the number of the active virtual terminal.</para>

<indexterm zone="ch-system-kbd getkeycodes"><primary sortas="b-getkeycodes">getkeycodes</primary></indexterm>
<para id="getkeycodes"><command>getkeycodes</command> prints the kernel scancode-to-keycode
mapping table.</para>

<indexterm zone="ch-system-kbd getunimap"><primary sortas="b-getunimap">getunimap</primary></indexterm>
<para id="getunimap"><command>getunimap</command> prints the currently used unimap.</para>

<indexterm zone="ch-system-kbd kbd_mode"><primary sortas="b-kbd_mode">kbd_mode</primary></indexterm>
<para id="kbd_mode"><command>kbd_mode</command> reports or sets the keyboard mode.</para>

<indexterm zone="ch-system-kbd kbdrate"><primary sortas="b-kbdrate">kbdrate</primary></indexterm>
<para id="kbdrate"><command>kbdrate</command> sets the keyboard repeat and delay rates.</para>

<indexterm zone="ch-system-kbd loadkeys"><primary sortas="b-loadkeys">loadkeys</primary></indexterm>
<para id="loadkeys"><command>loadkeys</command> loads the keyboard translation tables.</para>

<indexterm zone="ch-system-kbd loadunimap"><primary sortas="b-loadunimap">loadunimap</primary></indexterm>
<para id="loadunimap"><command>loadunimap</command> loads the kernel unicode-to-font mapping table.</para>

<indexterm zone="ch-system-kbd mapscrn"><primary sortas="b-mapscrn">mapscrn</primary></indexterm>
<para id="mapscrn"><command>mapscrn</command> is an obsolete program that used to load
a user-defined output character mapping table into the console driver. This is
now done by setfont.</para>

<indexterm zone="ch-system-kbd openvt"><primary sortas="b-openvt">openvt</primary></indexterm>
<para id="openvt"><command>openvt</command> starts a program on a new virtual terminal (VT).</para>

<indexterm zone="ch-system-kbd psf"><primary sortas="b-psf*">psf*</primary></indexterm>
<para id="psf"><command>psf*</command> are a set of tools for handling Unicode
character tables for console fonts.</para>

<indexterm zone="ch-system-kbd resizecons"><primary sortas="b-resizecons">resizecons</primary></indexterm>
<para id="resizecons"><command>resizecons</command> changes the kernel idea of the console size.</para>

<indexterm zone="ch-system-kbd setfont"><primary sortas="b-setfont">setfont</primary></indexterm>
<para id="setfont"><command>setfont</command> lets you change the EGA/VGA fonts on the console.</para>

<indexterm zone="ch-system-kbd setkeycodes"><primary sortas="b-setkeycodes">setkeycodes</primary></indexterm>
<para id="setkeycodes"><command>setkeycodes</command> loads kernel scancode-to-keycode
mapping table entries, useful if you have some unusual keys on your keyboard.</para>

<indexterm zone="ch-system-kbd setleds"><primary sortas="b-setleds">setleds</primary></indexterm>
<para id="setleds"><command>setleds</command> sets the keyboard flags and LEDs. Many
people find it useful to have "Num Lock" on by default, setleds +num achieves this.</para>

<indexterm zone="ch-system-kbd setlogcons"><primary sortas="b-setlogcons">setlogcons</primary></indexterm>
<para id="setlogcons"><command>setlogcons</command> sends kernel messages to the console.</para>

<indexterm zone="ch-system-kbd setmetamode"><primary sortas="b-setmetamode">setmetamode</primary></indexterm>
<para id="setmetamode"><command>setmetamode</command> defines the keyboard meta-key handling.</para>

<indexterm zone="ch-system-kbd setvesablank"><primary sortas="b-setvesablank">setvesablank</primary></indexterm>
<para id="setvesablank"><command>setvesablank</command> lets you fiddle with the built-in
hardware screensaver (no toasters, just a blank screen).</para>

<indexterm zone="ch-system-kbd showconsolefont"><primary sortas="b-showconsolefont">showconsolefont</primary></indexterm>
<para id="showconsolefont"><command>showconsolefont</command> shows the current EGA/VGA console
screen font.</para>

<indexterm zone="ch-system-kbd showkey"><primary sortas="b-showkey">showkey</primary></indexterm>
<para id="showkey"><command>showkey</command> reports the scancodes and keycodes and
ASCII codes of the keys pressed on the keyboard.</para>

<indexterm zone="ch-system-kbd unicode_start"><primary sortas="b-unicode_start">unicode_start</primary></indexterm>
<para id="unicode_start"><command>unicode_start</command> puts the keyboard and console in
UNICODE mode. Never use it on LFS, because applications are not
configured to support UNICODE.</para>

<indexterm zone="ch-system-kbd unicode_stop"><primary sortas="b-unicode_stop">unicode_stop</primary></indexterm>
<para id="unicode_stop"><command>unicode_stop</command> reverts keyboard and console from
UNICODE mode.</para>

</sect2>



</sect1>
