<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.4//EN"
  "http://www.oasis-open.org/docbook/xml/4.4/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;
]>

<sect1 id="ch-reboot-creatingdirs">
  <?dbhtml filename="creatingdirs.html"?>

  <title>Creating Directories</title>

  <para>It is time to create some structure in the LFS file system. Create a
  standard directory tree by issuing the following commands:</para>

<screen><userinput>install -d ${LFS}/{bin,boot,dev,etc/opt,home,lib{,64},mnt}
install -d ${LFS}/{sbin,srv,usr/local,var,opt,proc,sys}
install -d ${LFS}/root -m 0750
install -d ${LFS}/tmp ${LFS}/var/tmp -m 1777
install -d ${LFS}/media/{floppy,cdrom}
install -d ${LFS}/usr/{bin,include,lib{,64},sbin,share,src}
ln -s share/{man,doc,info} ${LFS}/usr
install -d ${LFS}/usr/share/{doc,info,locale,man}
install -d ${LFS}/usr/share/{misc,terminfo,zoneinfo}
install -d ${LFS}/usr/share/man/man{1,2,3,4,5,6,7,8}
install -d ${LFS}/usr/local/{bin,etc,include,lib{,64},sbin,share,src}
ln -s share/{man,doc,info} ${LFS}/usr/local
install -d ${LFS}/usr/local/share/{doc,info,locale,man}
install -d ${LFS}/usr/local/share/{misc,terminfo,zoneinfo}
install -d ${LFS}/usr/local/share/man/man{1,2,3,4,5,6,7,8}
install -d ${LFS}/var/{lock,log,mail,run,spool}
install -d ${LFS}/var/{opt,cache,lib{,64}/{misc,locate},local}
install -d ${LFS}/opt/{bin,doc,include,info}
install -d ${LFS}/opt/{lib{,64},man/man{1,2,3,4,5,6,7,8}}</userinput></screen>

  <para>Directories are, by default, created with permission mode 755,
  but this is not desirable for all directories. In the commands above,
  two changes are made&mdash;one to the home directory of user
  <systemitem class="username">root</systemitem>, and another to the
  directories for temporary files.</para>

  <para>The first mode change ensures that not just anybody can enter
  the <filename class="directory">${LFS}/root</filename> directory&mdash;the
  same as a normal user would do with his or her home directory. The
  second mode change makes sure that any user can write to the
  <filename class="directory">${LFS}/tmp</filename> and
  <filename class="directory">${LFS}/var/tmp</filename> directories, but
  cannot remove another user's files from them. The latter is prohibited
  by the so-called <quote>sticky bit,</quote> the highest bit (1) in the
  1777 bit mask.</para>

  <sect2>
    <title>FHS Compliance Note</title>

    <para>The directory tree is based on the Filesystem Hierarchy Standard
    (FHS) standard (available at <ulink url="http://www.pathname.com/fhs/"/>).
    Besides the tree created above, this standard stipulates the existence of
    <filename class="directory">${LFS}/usr/local/games</filename> and
    <filename class="directory">${LFS}/usr/share/games</filename>. We do not
    recommend these for a base system, however, feel free to make the system
    FHS-compliant.  The FHS is not precise as to the structure of the
    <filename class="directory">${LFS}/usr/local/share</filename> subdirectory,
    so we created only the directories that are needed.</para>

  </sect2>

</sect1>
