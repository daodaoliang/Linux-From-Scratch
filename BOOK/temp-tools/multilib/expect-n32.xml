<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.4//EN" "http://www.oasis-open.org/docbook/xml/4.4/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  <!ENTITY % patches-entities SYSTEM "../../patches.ent">
  %general-entities;
  %patches-entities;
]>

<sect1 id="ch-temp-tools-expect-n32" role="wrap">
<title>Expect-&expect-version; N32</title>
<?dbhtml filename="expect-n32.html"?>

<indexterm zone="ch-temp-tools-expect-n32"><primary sortas="a-Expect-n32">Expect N32</primary></indexterm>

<sect2 role="package"><title/>
<para>The Expect package contains a program for carrying out scripted dialogues
with other interactive programs.</para>

<segmentedlist>
<segtitle>&buildtime;</segtitle>
<segtitle>&diskspace;</segtitle>
<seglistitem><seg>0.1 SBU</seg><seg>3.9 MB</seg></seglistitem>
</segmentedlist>

<segmentedlist>
<segtitle>&dependencies;</segtitle>
<seglistitem><seg>Bash, Binutils, Coreutils, Diffutils,
GCC, Glibc, Grep, Make, Sed, and Tcl</seg></seglistitem>
</segmentedlist>
</sect2>

<sect2 role="installation">
<title>Installation of Expect</title>

<para>First, fix a bug that can result in false failures during the GCC test
suite run:</para>

<screen><userinput>patch -Np1 -i ../&expect-spawn-patch;</userinput></screen>

<para>Now prepare Expect for compilation:</para>

<screen><userinput>CC="gcc ${BUILDN32}" ./configure --prefix=/tools \
   --with-tcl=/tools/lib32 --libdir=/tools/lib32--with-x=no</userinput></screen>

<para>The meaning of the configure options:</para>

<variablelist>
<varlistentry>
<term><parameter>--with-tcl=/tools/lib64</parameter></term>
<listitem><para>This ensures that the configure script finds the Tcl installation in
the temporary temp-tools location instead of possibly locating an existing
one on the host system.</para></listitem>
</varlistentry>

<varlistentry>
<term><parameter>--with-x=no</parameter></term>
<listitem><para>This tells the configure script not to search for Tk
(the Tcl GUI component) or the X Window System libraries, both of
which may reside on the host system.</para></listitem>
</varlistentry>
</variablelist>

<para>Build the package:</para>

<screen><userinput>make</userinput></screen>

<para>To test the results, issue: <userinput>make test</userinput>.
Note that the Expect test suite is known to experience failures under
certain host conditions that are not within our control. Therefore,
test suite failures here are not surprising and are not considered
critical.</para>


<para>Install the package:</para>

<screen><userinput>make SCRIPTS="" install</userinput></screen>

<para>The meaning of the make parameter:</para>

<variablelist>
<varlistentry>
<term><parameter>SCRIPTS=""</parameter></term>
<listitem><para>This prevents installation of the supplementary expect
scripts, which are not needed.</para></listitem>
</varlistentry>
</variablelist>

<para>The source directories of both Tcl and Expect can now be removed.</para>

</sect2>

<sect2 role="content"><title/>
<para>Details on this package are located in <xref
linkend="contents-expect" role="."/></para>
</sect2>

</sect1>
