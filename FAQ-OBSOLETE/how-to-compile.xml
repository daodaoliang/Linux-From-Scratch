<qandaentry id="how-to-compile">
<question><para>How do i compile a package?</para></question>
<answer>
<para>Here's an example when everything works:
<screen>tar xvjf foo-0.0.tar.bz2
cd foo-0.0
./configure --prefix=/usr
make
make install
<emphasis role="strong">cd ..
rm -rf foo-0.0</emphasis>
</screen></para>
<para>
Deleting the source at the end is important.
The source is only useful for reinstalling without recompiling
because "make clean" and friends are not reliable.
See the next example for what to do if "./configure" or "make" fail.
</para>
<para>The only exception to deleting the source is the Linux Kernel.
Most people keep their kernel source so they don't have to reconfigure
it from scratch if they need to make a small change.
If a large change is needed, like changing processor type,
it may be necessary to delete and re-extract even with the kernel.
</para>
<para>And here's an example for if something (in this case configure) fails:
<screen>tar xvjf foo-0.0.tar.bz2
cd foo-0.0
./configure --prefix=/usr
.
.
.
*** configure: error: foo requires libess 4.2 or greater
please install libess and rerun configure.
<emphasis role="strong">cd ..
rm -rf foo-0.0</emphasis>
tar xvjf libess-4.2.tar.bz2
cd libess-4.2
./configure --prefix=/usr
make
make install
<emphasis role="strong">cd ..
rm -rf libess-4.2</emphasis>
tar xvjf foo-0.0.tar.bz2
cd foo-0.0
./configure --prefix=/usr
make
make install
<emphasis role="strong">cd ..
rm -rf foo-0.0</emphasis>
</screen></para>
<para>Ed. Note: The name of the fictional libess above follows
libiberty (from glibc, AFAIK) and libofat.
The reason comes from the gcc flag, -l, for linking a library when compiling.
For instance,
<screen>gcc -o foo foo.c -lm
</screen>
would link the "m" (math) library with the executable foo.
So, for the libraries above, the command looks like:
<screen>gcc -o foo foo.c -liberty -lowfat -less
</screen></para>
<para>Bonus points if you caught the reference to
The Hitchhiker's Guide to the Galaxy, by Douglas Adams in the example.
</para></answer>
</qandaentry>
