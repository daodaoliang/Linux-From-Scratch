<sect2>
<title>Installation of Linux Kernel</title>

<para>
We won't be compiling a new kernel image yet. We'll do that after we
have finished the installation of the basic system software in this
chapter. But because certain software need the kernel header files, we're
going to unpack the kernel archive now and set it up so that we can
compile package that need the kernel.
</para>

<para>
The kernel configuration file is created by running the following command:
</para>

<blockquote><literallayout>
	<userinput>make mrproper &amp;&amp;</userinput>
	<userinput>yes "" | make config &amp;&amp;</userinput>
	<userinput>make dep &amp;&amp;</userinput>
	<userinput>cd $LFS/usr/include &amp;&amp;</userinput>
	<userinput>ln -s ../src/linux/include/linux &amp;&amp;</userinput>
	<userinput>ln -s ../src/linux/include/asm</userinput>
</literallayout></blockquote>

</sect2>

<sect2>
<title>FHS compliance notes</title>

<para>
According to the FHS, the /usr/include/linux and /usr/include/asm should be
actual directories, not symbolic links to the ones belonging to the current
kernel. The major advantage is that programs will compile with the headers glibc
was compiled with, and this may prevent some compiling hell. Until now, in all
of LFS' history, no compiling problem has been reported by using symlinks. So if
you're tight on space, we recommend using symlinks. But if you want to be FHS
compliant, replace the two last lines from the commands above with those:
</para>

<blockquote><literallayout>
	<userinput>cp -r ../src/linux/include/linux . &amp;&amp;</userinput>
	<userinput>cp -r ../src/linux/include/asm .</userinput>
</literallayout></blockquote>

</sect2>

