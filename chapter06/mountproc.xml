<sect1 id="ch06-proc">
<title>Mounting the proc and devpts file systems</title>
<?dbhtml filename="proc.html" dir="chapter06"?>

<para>In order for certain programs to function properly, the proc and devpts
file systems must be available within the chroot environment.
As a file system can be mounted as many times and in as many places
as you like, it's not a problem that the these file systems are already
mounted on your host system -- especially so because they are virtual 
file systems.</para>

<para>The proc file system is mounted under
<filename class="directory">/proc</filename> by running the
following command:</para>

<para><screen><userinput>mount proc /proc -t proc</userinput></screen></para>

<para>The devpts file system is mounted to <filename class="directory">/dev/pts
</filename> by running:</para>

<para><screen><userinput>mount devpts /dev/pts -t devpts</userinput></screen>
</para>

<para>Should this command fail with an error to the effect of:</para>

<blockquote><screen>filesystem devpts not supported by kernel</screen></blockquote>

<para>This most likely means that your host system uses devfs, and does not
have the necessary support for devpts in the kernel.  To work around this
problem, we will place the host's devfs system on top of the new /dev
structure later, in the section where we run the MAKEDEV script.</para>

<para>You might get warning messages from the mount command, such as
these:</para>

<blockquote><screen>warning: can't open /etc/fstab: No such file or directory
not enough memory</screen></blockquote>

<para>Ignore these, they're just due to the fact that the system
isn't installed completely yet and some files are missing. The mount itself
will be successful and that's all we care about at this point.</para>

<para>The last error (not enough memory) doesn't always show up. It depends
on your system configuration (such as the host system's Glibc version that was
used to compile the mount program with).</para>

<para>Remember, if for any reason you stop working on your LFS, and
start again later, it's important to check that these filesystems are still
mounted inside the chroot environment. Otherwise, some programs might
end up compiled incorrectly.</para>

</sect1>

