<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.3CR2//EN" "http://www.oasis-open.org/docbook/xml/4.3CR2/docbookx.dtd">
<chapter id="chapter04" xreflabel="Chapter 4">
<?dbhtml dir="chapter04"?>
<title>The materials: packages and patches</title>
<?dbhtml filename="chapter04.html"?>


<sect1 id="ch04-introduction">
<title>Introduction</title>
<?dbhtml filename="introduction.html"?>

<para>Below is a list of packages you need to download for building a basic
Linux system. The listed version numbers correspond to versions of the
software that are <emphasis>known</emphasis> to work, and this book is
based upon them. Unless you are an experienced LFS builder, we highly
recommend not to try out newer versions, as the build commands for one
version may not work with a newer version. Also, there is often a good
reason for not using the latest version due to known problems that haven't
been worked around yet.</para>

<para>All the URLs, when possible, refer to the project's page at
<ulink url="http://www.freshmeat.net/"/>. The Freshmeat
pages will give you easy access to the official download sites as well as
project websites, mailing lists, FAQs, changelogs and more.</para>

<para>We can't guarantee that these download locations are always available.
In case a download location has changed since this book was published, please
try to google for the package. Should you remain unsuccessful with this, you
can consult the book's errata page at
<ulink url="http://linuxfromscratch.org/lfs/print/"/> or, better yet, try one
of the alternative means of downloading listed on
<ulink url="http://linuxfromscratch.org/lfs/packages.html"/>.</para>

<para>You'll need to store all the downloaded packages and patches somewhere
that is conveniently available throughout the entire build. You'll also need a
working directory in which to unpack the sources and build them. A scheme that
works well is to use <filename>$LFS/sources</filename> as the place to store
the tarballs and patches, <emphasis>and</emphasis> as a working directory.
This way everything you need will be located on the LFS partition and available
during all stages of the building process.</para>

<para>So you may want to execute, as <emphasis>root</emphasis>, the following
command before starting your download session:</para>

<screen><userinput>mkdir $LFS/sources</userinput></screen>

<para>And make this directory writable (and sticky) for your normal user -- as
you won't do the downloading as <emphasis>root</emphasis>, we guess:</para>

<screen><userinput>chmod a+wt $LFS/sources</userinput></screen>

<!--
<para>For your convenience the top of the list contains a link to a file
you can use with the <ulink url="http://wget.sunsite.dk">wget</ulink>
program. Using this file and the <userinput>wget</userinput> program will
make it easy to download all the files at once, rather than downloading each
and every individual file manually.</para>
-->

</sect1>


<sect1 id="ch04-packages">
<title>All the packages</title>
<?dbhtml filename="packages.html"?>

<para>Download or otherwise obtain the following packages:</para>

<literallayout>
Autoconf (2.59) - 903 KB:
<ulink url="http://freshmeat.net/projects/autoconf/"/>

Automake (1.8) - 694 KB:
<ulink url="http://freshmeat.net/projects/automake/"/>

Bash (2.05b) - 1,910 KB:
<ulink url="http://freshmeat.net/projects/gnubash/"/>

Binutils (2.14) - 10,666 KB:
<ulink url="http://freshmeat.net/projects/binutils/"/>

Bison (1.875) - 796 KB:
<ulink url="http://freshmeat.net/projects/bison/"/>

Bzip2 (1.0.2) - 650 KB:
<ulink url="http://freshmeat.net/projects/bzip2/"/>

Coreutils (5.0) - 3,860 KB:
<ulink url="http://freshmeat.net/projects/coreutils/"/>

DejaGnu (1.4.3) - 1,775 KB:
<ulink url="http://freshmeat.net/projects/dejagnu/"/>

Diffutils (2.8.1) - 762 KB:
<ulink url="http://freshmeat.net/projects/diffutils/"/>

E2fsprogs (1.34) - 3,003 KB:
<ulink url="http://freshmeat.net/projects/e2fsprogs/"/>

Ed (0.2) - 182 KB:
<ulink url="http://freshmeat.net/projects/ed/"/>

Expect (5.39.0) - 508 KB:
<ulink url="http://freshmeat.net/projects/expect/"/>

File (4.06) - 345 KB: (*) See Note Below
<ulink url="http://freshmeat.net/projects/file/"/>

Findutils (4.3CR20) - 760 KB:
<ulink url="http://freshmeat.net/projects/findutils/"/>

Flex (2.5.4a) - 372 KB:
<ulink url="ftp://ftp.gnu.org/gnu/non-gnu/flex/"/>

Gawk (3.1.3) - 1,596 KB:
<ulink url="http://freshmeat.net/projects/gnuawk/"/>

GCC (2.95.3) - 9,618 KB:
<ulink url="http://freshmeat.net/projects/gcc/"/>

GCC-core (3.3.2) - 10,994 KB:
<ulink url="http://freshmeat.net/projects/gcc/"/>

GCC-g++ (3.3.2) - 2,019 KB:
<ulink url="http://freshmeat.net/projects/gcc/"/>

GCC-testsuite (3.3.2) - 1,042 KB:
<ulink url="http://freshmeat.net/projects/gcc/"/>

Gettext (0.13.1) - 6,306 KB:
<ulink url="http://freshmeat.net/projects/gettext/"/>

Glibc (2.3.2) - 13,064 KB:
<ulink url="http://freshmeat.net/projects/glibc/"/>

Glibc-linuxthreads (2.3.2) - 211 KB:
<ulink url="http://freshmeat.net/projects/glibc/"/>

Grep (2.5.1) - 545 KB:
<ulink url="http://freshmeat.net/projects/grep/"/>

Groff (1.19) - 2,360 KB:
<ulink url="http://freshmeat.net/projects/groff/"/>

Grub (0.93) - 870 KB:
<ulink url="ftp://alpha.gnu.org/pub/gnu/grub/"/>

Gzip (1.3.5) - 324 KB:
<ulink url="ftp://alpha.gnu.org/gnu/gzip/"/>

Inetutils (1.4.2) - 1,019 KB:
<ulink url="http://freshmeat.net/projects/inetutils/"/>

Kbd (1.08) - 801 KB:
<ulink url="http://freshmeat.net/projects/kbd/"/>

Less (381) - 259 KB:
<ulink url="http://freshmeat.net/projects/less/"/>

LFS-Bootscripts (1.12) - 25 KB:
<ulink url="http://downloads.linuxfromscratch.org/lfs-bootscripts-1.12.tar.bz2"/>

Lfs-Utils (0.4.2) - 221 KB:
<ulink url="http://www.linuxfromscratch.org/~winkie/downloads/lfs-utils/"/>

Libtool (1.5) - 2,751 KB:
<ulink url="http://freshmeat.net/projects/libtool/"/>

Linux (2.4.23) - 29,133 KB:
<ulink url="http://freshmeat.net/projects/linux/"/>

M4 (1.4) - 310 KB:
<ulink url="http://freshmeat.net/projects/gnum4/"/>

Make (3.80) - 899 KB:
<ulink url="http://freshmeat.net/projects/gnumake"/>

MAKEDEV (1.7) - 8 KB:
<ulink url="http://downloads.linuxfromscratch.org/MAKEDEV-1.7.bz2"/>

Man (1.5m2) - 196 KB:
<ulink url="http://freshmeat.net/projects/man/"/>

Man-pages (1.64) - 645 KB:
<ulink url="http://freshmeat.net/projects/man-pages/"/>

Modutils (2.4.26) - 229 KB:
<ulink url="http://freshmeat.net/projects/modutils/"/>

Ncurses (5.3) - 2,019 KB:
<ulink url="http://freshmeat.net/projects/ncurses/"/>

Net-tools (1.60) - 194 KB:
<ulink url="http://freshmeat.net/projects/net-tools/"/>

Patch (2.5.4) - 182 KB:
<ulink url="http://freshmeat.net/projects/patch/"/>

Perl (5.8.2) - 11,617 KB:
<ulink url="http://freshmeat.net/projects/perl/"/>

Procinfo (18) - 24 KB:
<ulink url="http://freshmeat.net/projects/procinfo/"/>

Procps (3.1.14) - 244 KB:
<ulink url="http://freshmeat.net/projects/procps/"/>

Psmisc (21.4) - 375 KB:
<ulink url="http://freshmeat.net/projects/psmisc/"/>

Sed (4.0.8) - 717 KB:
<ulink url="http://freshmeat.net/projects/sed/"/>

Shadow (4.0.3) - 760 KB:
<ulink url="http://freshmeat.net/projects/shadow/"/>

Sysklogd (1.4.1) - 80 KB:
<ulink url="http://freshmeat.net/projects/sysklogd/"/>

Sysvinit (2.85) - 91 KB:
<ulink url="http://freshmeat.net/projects/sysvinit/"/>

Tar (1.13.25) - 1,281 KB:
<ulink url="ftp://alpha.gnu.org/gnu/tar/"/>

Tcl (8.4.5) - 3,363 KB:
<ulink url="http://freshmeat.net/projects/tcltk/"/>

Texinfo (4.6) - 1,317 KB:
<ulink url="http://freshmeat.net/projects/texinfo/"/>

Util-linux (2.12) - 1,814 KB:
<ulink url="http://freshmeat.net/projects/util-linux/"/>

Vim (6.2) - 3,193 KB:
<ulink url="http://freshmeat.net/projects/vim/"/>

Zlib (1.2.1) - 277 KB:
<ulink url="http://freshmeat.net/projects/zlib/"/>

Total size of these packages: 134 MB
</literallayout>

<note><para>File (4.06) may not be available by the time you read
this. The master download location is known to remove old versions when new
ones are released. Please refer to the corresponding section in
<xref linkend="appendixa"/> for an alternate download location.</para></note>

</sect1>


<sect1 id="ch04-patches">
<title>Needed patches</title>
<?dbhtml filename="patches.html"?>

<para>Besides all those packages, you'll also need several patches. These
correct tiny mistakes in the packages that should be fixed by the maintainer,
or just make some small modifications to bend things our way. You'll need the
following:</para>

<literallayout>
Bash Patch - 7 KB:
<ulink url="http://www.linuxfromscratch.org/patches/lfs/cvs/bash-2.05b-2.patch"/>

Bison Attribute Patch - 2 KB:
<ulink url="http://www.linuxfromscratch.org/patches/lfs/cvs/bison-1.875-attribute.patch"/>

Coreutils Hostname Patch - 1 KB:
<ulink url="http://www.linuxfromscratch.org/patches/lfs/cvs/coreutils-5.0-hostname-2.patch"/>

Coreutils Uname Patch - 1 KB:
<ulink url="http://www.linuxfromscratch.org/patches/lfs/cvs/coreutils-5.0-uname.patch"/>

Ed Mkstemp Patch - 1 KB:
<ulink url="http://www.linuxfromscratch.org/patches/lfs/cvs/ed-0.2-mkstemp.patch"/>

Expect Spawn Patch - 6 KB:
<ulink url="http://www.linuxfromscratch.org/patches/lfs/cvs/expect-5.39.0-spawn.patch"/>

Gawk Libexecdir Patch - 1 KB:
<ulink url="http://www.linuxfromscratch.org/patches/lfs/cvs/gawk-3.1.3-libexecdir.patch"/>

GCC No-Fixincludes Patch - 1 KB:
<ulink url="http://www.linuxfromscratch.org/patches/lfs/cvs/gcc-3.3.2-no_fixincludes-1.patch"/>

GCC Specs Patch - 11 KB:
<ulink url="http://www.linuxfromscratch.org/patches/lfs/cvs/gcc-3.3.2-specs-1.patch"/>

GCC-2 Patch - 16 KB:
<ulink url="http://www.linuxfromscratch.org/patches/lfs/cvs/gcc-2.95.3-2.patch"/>

GCC-2 No-Fixincludes Patch - 1 KB:
<ulink url="http://www.linuxfromscratch.org/patches/lfs/cvs/gcc-2.95.3-no-fixinc.patch"/>

GCC-2 Return-Type Patch - 1 KB:
<ulink url="http://www.linuxfromscratch.org/patches/lfs/cvs/gcc-2.95.3-returntype-fix.patch"/>

Glibc Sscanf Patch - 2 KB:
<ulink url="http://www.linuxfromscratch.org/patches/lfs/cvs/glibc-2.3.2-sscanf-1.patch"/>

Inetutils No-Server-Man-Pages Patch - 4 KB:
<ulink url="http://www.linuxfromscratch.org/patches/lfs/cvs/inetutils-1.4.2-no_server_man_pages-1.patch"/>

Kbd More-Programs Patch - 1 KB:
<ulink url="http://www.linuxfromscratch.org/patches/lfs/cvs/kbd-1.08-more-programs-3.patch"/>

Man 80-Columns Patch - 1 KB:
<ulink url="http://www.linuxfromscratch.org/patches/lfs/cvs/man-1.5m2-80cols.patch"/>

Ncurses Etip Patch - 1 KB:
<ulink url="http://www.linuxfromscratch.org/patches/lfs/cvs/ncurses-5.3-etip-2.patch"/>

Net-tools Mii-Tool-Gcc33 Patch - 2 KB:
<ulink url="http://www.linuxfromscratch.org/patches/lfs/cvs/net-tools-1.60-miitool-gcc33-1.patch"/>

Perl Libc Patch - 1 KB:
<ulink url="http://www.linuxfromscratch.org/patches/lfs/cvs/perl-5.8.2-libc-1.patch"/>

Shadow Newgrp Patch - 1 KB:
<ulink url="http://www.linuxfromscratch.org/patches/lfs/cvs/shadow-4.0.3-newgrp-fix.patch"/> 
</literallayout>

<para>In addition to the above required patches, there exist a number of
optional ones created by the LFS community. Most of these solve slight
problems, or enable some functionality that's not enabled by default. Feel
free to examine the patches database, located at
<ulink url="http://www.linuxfromscratch.org/patches/"/>, and pick any
additional patches you wish to use.</para>

</sect1>

</chapter>
