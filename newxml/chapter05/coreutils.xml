<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.3CR3//EN" "http://www.docbook.org/xml/4.3CR3/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../general.ent">
  %general-entities;
]>
<sect1 xmlns:xi="http://www.w3.org/2003/XInclude" id="ch-tools-coreutils">
<title>Installing Coreutils-&coreutils-version;</title>
<?dbhtml filename="coreutils.html"?>

<xi:include href="../chapter06/coreutils.xml" xpointer="xpointer(/sect1/para[1])"/>

<screen>&buildtime; 0.9 SBU
&diskspace; 69 MB</screen>

<para>You can found the official download location for this package in
<xref linkend="ch-system-coreutils"/>.</para>

<xi:include href="../chapter06/coreutils.xml" xpointer="xpointer(/sect1/para[2])"/>


<sect2>
<title>Installation of Coreutils</title>

<para>Prepare Coreutils for compilation:</para>

<screen><userinput>DEFAULT_POSIX2_VERSION=1999209 ./configure --prefix=/tools</userinput></screen>

<para>This package has an issue when compiled against versions of glibc
later than 3.3.2.  Some of the Coreutils utilities (such as
(<command>head</command>, <command>tail</command> and <command>sort</command>)
will reject their traditional syntax, a syntax that has been in use for
approximately 30 years. This old syntax is so pervasive that compatibility
should be preserved until the many places where it is used can be
updated.  Backwards compatibility is achieved by setting the
DEFAULT_POSIX2_VERSION environment variable to "1999209" in the above
command.  If, instead, you want to enforce the POSIX standard then you can set
this variable to "200112", realising that doing so will mean you'll have to deal
with the consequences yourself: patch the many packages that still use the old
syntax.  We therefore recommend using the instructions exactly as given above.
The behaviour of the coreutils binaries can be changed at runtime by setting the
_POSIX2_VERSION environment variable to one of the two values described above.</para>

<para>Compile the package:</para>

<screen><userinput>make</userinput></screen>

<para>(If you insist on testing the results, then issue:
<userinput>make RUN_EXPENSIVE_TESTS=yes check</userinput>. The
<emphasis>RUN_EXPENSIVE_TESTS=yes</emphasis> parameter tells the test suite to
run several additional tests that are considered relatively expensive on some
platforms but generally are not a problem on Linux.)</para>

<para>And install the package:</para>

<screen><userinput>make install</userinput></screen>

</sect2>

<sect2><title> </title><para> </para>
<para>The details on this package are found in <xref linkend="contents-coreutils"/>.</para>
<para> </para></sect2>

</sect1>
