<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.3CR2//EN" "http://www.docbook.org/xml/4.3CR2/docbookx.dtd">
<sect1 id="ch06-ed">
<title>Installing Ed-0.2</title>
<?dbhtml filename="ed.html"?>

<screen>Estimated build time:           0.1 SBU
Estimated required disk space:  3.1 MB</screen>

<xi:include xmlns:xi="http://www.w3.org/2003/XInclude" href="../appendixa/ed-contents.xml"/>



<xi:include xmlns:xi="http://www.w3.org/2003/XInclude" href="../appendixa/ed-deps.xml"/>



<sect2>
<title>Installation of Ed</title>

<note><para>Ed isn't something which many people use. It's installed here
because it can be used by the patch program if you encounter an ed-based patch
file. This happens rarely because diff-based patches are preferred these
days.</para></note>

<para>Ed normally uses the mktemp function to create temporary files in
<filename class="directory">/tmp</filename>, but this function contains a
vulnerability (see the section on Temporary Files in <ulink url="http://en.tldp.org/HOWTO/Secure-Programs-HOWTO/avoid-race.html"/>). The
following patch makes Ed use mkstemp instead, which is the recommended way to
create temporary files.</para>

<para>Apply the patch:</para>

<screen><userinput>patch -Np1 -i ../ed-0.2-mkstemp.patch</userinput></screen>

<para>Now prepare Ed for compilation:</para>

<screen><userinput>./configure --prefix=/usr --exec-prefix=""</userinput></screen>

<para>The meaning of the configure option:</para>

<itemizedlist>
<listitem><para><userinput>--exec-prefix=""</userinput>: This forces the
programs to be installed into the <filename>/bin</filename> directory. Having
the programs available there is useful in the event of the
<filename>/usr</filename> partition being unavailable.</para></listitem>
</itemizedlist>

<para>Compile the package:</para>

<screen><userinput>make</userinput></screen>

<para>This package has a test suite available which can perform a number of
checks to ensure it built correctly.  Should you choose to run it, the 
following command will do so:</para>

<screen><userinput>make check</userinput></screen>

<para>Install the package:</para>

<screen><userinput>make install</userinput></screen>

</sect2>

</sect1>
