<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.3CR2//EN" "http://www.docbook.org/xml/4.3CR2/docbookx.dtd">
<sect1 id="ch06-util-linux">
<title>Installing Util-linux-2.12</title>
<?dbhtml filename="util-linux.html"?>

<screen>Estimated build time:           0.2 SBU
Estimated required disk space:  16 MB</screen>

<xi:include xmlns:xi="http://www.w3.org/2003/XInclude" href="../appendixa/util-linux-contents.xml"/>


<xi:include xmlns:xi="http://www.w3.org/2003/XInclude" href="../appendixa/util-linux-deps.xml"/>



<sect2>
<title>FHS compliance notes</title>

<para>The FHS recommends that we use <filename>/var/lib/hwclock</filename>,
instead of the usual <filename>/etc</filename>, as the location for the
<filename>adjtime</filename> file. To make the <userinput>hwclock</userinput>
program FHS-compliant, run the following:</para>

<screen><userinput>cp hwclock/hwclock.c{,.backup}
sed 's%etc/adjtime%var/lib/hwclock/adjtime%' \
    hwclock/hwclock.c.backup &gt; hwclock/hwclock.c
mkdir -p /var/lib/hwclock</userinput></screen>

</sect2>

<sect2>
<title>Installation of Util-linux</title>

<para>Prepare Util-linux for compilation:</para>

<screen><userinput>./configure</userinput></screen>

<para>Compile the package:</para>

<screen><userinput>make HAVE_KILL=yes HAVE_SLN=yes</userinput></screen>

<para>The meaning of the make parameters:</para>

<itemizedlist>
<listitem><para><userinput>HAVE_KILL=yes</userinput>: This prevents the
<userinput>kill</userinput> program (already installed by Procps) from being
built and installed again.</para></listitem>

<listitem><para><userinput>HAVE_SLN=yes</userinput>: This prevents the
<userinput>sln</userinput> program (a statically linked
<userinput>ln</userinput>, already installed by Glibc) from being built and
installed again.</para></listitem>
</itemizedlist>

<para>And install the package:</para>

<screen><userinput>make HAVE_KILL=yes HAVE_SLN=yes install</userinput></screen>

</sect2>

</sect1>
