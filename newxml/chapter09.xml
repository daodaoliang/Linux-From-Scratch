<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.2//EN" "http://www.oasis-open.org/docbook/xml/4.2/docbookx.dtd">
<chapter id="chapter09" xreflabel="Chapter 9">
  <title>The End</title>
<?dbhtml filename="chapter09.html" dir="chapter09"?>
  <sect1 id="ch09-theend">
    <title>The End</title>
<?dbhtml filename="theend.html" dir="chapter09"?>
    <para>Well done! You have finished installing your LFS system. It may have
been a long process, but we hope it was worth it. We wish you a lot of fun
with your new shiny custom built Linux system.</para>
    <para>Now would be a good time to strip all debug symbols from
the binaries on your LFS system. If you are not a programmer and don't plan
on debugging your software, then you will be happy to know that you can
reclaim a few tens of megs by removing debug symbols. This process causes
no inconvenience other than not being able to debug the software fully
anymore, which is not an issue if you don't know how to debug.</para>
    <para>Disclaimer: 98% of the people who use the command mentioned below don't
experience any problems. But do make a backup of your LFS system before
you run this command. There's a slight chance it may backfire on you and
render your system unusable (mostly by destroying your kernel modules
and dynamic &amp; shared libraries). This is caused more often by typos
than by a problem with the command used.</para>
    <para>Having said that, the --strip-debug option we use to strip is quite
harmless under normal circumstances. It doesn't strip anything vital from
the files. It also is quite safe to use --strip-all on regular programs
(don't use that on libraries - they will be destroyed), but it's not as
safe, and the space you gain is not all that much. But if you're tight on
disk space every little bit helps, so decide for yourself. Please refer to
the strip man page for other strip options you can use. The general idea
is to not run strip on libraries (other than --strip-debug), just to be
on the safe side.</para>
    <para>If you are planning to go ahead and perform the strip, special care is
needed to ensure you're not running any binaries that are about to be stripped
-- including the active bash shell. Therefore you'll need to exit the chroot
environment and reenter it using a modified chroot command:</para>
    <screen>
      <userinput>logout
chroot $LFS /tools/bin/env -i \
    HOME=/root TERM=$TERM PS1='\u:\w\$ ' \
    PATH=/bin:/usr/bin:/sbin:/usr/sbin \
    /tools/bin/bash --login</userinput>
    </screen>
    <para>Now run the following command:</para>
    <screen>
      <userinput>/tools/bin/find /{,usr/,usr/local/}{bin,sbin,lib} -type f \
   -exec /tools/bin/strip --strip-debug '{}' ';'</userinput>
    </screen>
    <para>Quite a number of files will be reported as having their file format not
recognized. Most of these are scripts instead of binaries. These warnings can
be safely ignored.</para>
    <para>It may be a good idea to create an <filename>/etc/lfs-release</filename>
file. By having this file it is very easy for you (and for us if you are going
to ask for help with something at some point) to find out which LFS version
you have installed on your system. Create this file by running:</para>
    <screen>
      <userinput>echo CVS-20031113 &gt; /etc/lfs-release</userinput>
    </screen>
  </sect1>
  <sect1 id="ch09-getcounted">
    <title>Get Counted</title>
<?dbhtml filename="getcounted.html" dir="chapter09"?>
    <para>Want to be counted as an LFS user now that you have finished the
book? Head over
to <ulink url="http://linuxfromscratch.org/cgi-bin/lfscounter.cgi"/> and
register as an LFS user by entering your name and the first LFS version
you have used.</para>
    <para>Let's reboot into LFS now...</para>
  </sect1>
  <sect1 id="ch09-reboot">
    <title>Rebooting the system</title>
<?dbhtml filename="reboot.html" dir="chapter09"?>
    <para>Now that all of the software has been installed, it's time to exit the
chroot environment and reboot the computer. Before we exit the chroot
environment, let's unmount any mounted virtual file systems by running:</para>
    <screen>
      <userinput>umount /proc
umount /dev/pts</userinput>
    </screen>
    <para>Exit the chroot environment:</para>
    <screen>
      <userinput>logout</userinput>
    </screen>
    <para>Additionally, now that all software has been installed, there is no longer
a need for the <filename class="directory">/tools</filename> directory. You may
delete it. As this will also remove the temporary copies of Tcl, Expect and
DejaGnu, which were used for running the toolchain tests, you will need to
recompile and re-install them on your LFS system if you want to use these
programs later.</para>
    <para>Also you may now want to move the contents of
<filename class="directory">/sources</filename> to
<filename class="directory">/usr/src/packages</filename> or something similar
(or simply delete them if you've burned them on a CD) and delete the
directory.</para>
    <para>Before we reboot, let's unmount the LFS partition itself:</para>
    <screen>
      <userinput>umount $LFS</userinput>
    </screen>
    <para>If you earlier decided to create multiple partitions, you'll need to
unmount the other partitions before you unmount $LFS, like this:</para>
    <screen>
      <userinput>umount $LFS/usr
umount $LFS/home
umount $LFS</userinput>
    </screen>
    <para>And now you can reboot your system by running something like:</para>
    <screen>
      <userinput>/sbin/shutdown -r now</userinput>
    </screen>
    <para>Assuming the Grub boot loader was set up as outlined earlier, the
default menu should be set to boot <emphasis>LFS 5.1</emphasis>
automatically.</para>
    <para>After you have rebooted, your LFS system is ready for use and you
can start adding your own software.</para>
  </sect1>
  <sect1 id="ch09-whatnow">
    <title>What now?</title>
<?dbhtml filename="whatnow.html" dir="chapter09"?>
    <para>We thank you for reading the LFS Book and hope that you've found this
book useful and worth your time.</para>
    <para>Now that you have finished installing your LFS system, you may be
wondering &quot;What now?&quot;. In order to answer that question, we have composed a
list of resources for you.</para>
    <itemizedlist>
      <listitem>
        <para>Beyond Linux From Scratch</para>
        <para>The Beyond Linux From Scratch book covers installation procedures
for a wide range of software beyond the scope of the LFS Book. The BLFS
project can be found at <ulink url="http://www.linuxfromscratch.org/blfs/"/>.</para>
      </listitem>
      <listitem>
        <para>LFS Hints</para>
        <para>The LFS Hints are a collection of small, educational documents
submitted by volunteers in the LFS community. The Hints are available at
<ulink url="http://www.linuxfromscratch.org/hints/list.html"/>.</para>
      </listitem>
      <listitem>
        <para>Mailing lists</para>
        <para>There are several LFS mailing lists you may subscribe to if you are
in need of help. See <xref linkend="ch01-maillists"/> for more
information.</para>
      </listitem>
      <listitem>
        <para>The Linux Documentation Project</para>
        <para>The goal of the Linux Documentation Project is to collaborate in
all of the issues of Linux documentation. The LDP features a large collection
of HOWTOs, Guides and man pages; it may be found at
<ulink url="http://www.tldp.org/"/>.</para>
      </listitem>
    </itemizedlist>
  </sect1>
</chapter>
